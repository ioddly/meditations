<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1,shrink-to-fit=no">
    <title>{% block title %}{% endblock %} | {{ SiteTitle }}</title>

    <!--[if lt IE 9]>
      <script src="/assets/vendor/html5shiv/dist/html5shiv.min.js"></script>
      <script src="/assets/vendor/respond/dest/respond.min.js"></script>
    <![endif]-->
    
    {% if Tutorial %}
    <link href="/assets/vendor/intro.js/minified/introjs.min.css" />
    {% endif %}
    <link href="/assets/site.css" rel=stylesheet>
    {% block style %}{% endblock %}
  </head>
  <body>
    
    <div class="container-fluid">
      <nav class="navbar navbar-light">
        <button class="navbar-toggler hidden-sm-up" type="button" data-toggle="collapse" data-target="#navbar-header" aria-controls="navbar-header">
          &#9776;
        </button>
        <div class="collapse navbar-toggleable-xs" id="navbar-header">
          <ul class="nav navbar-nav">
            <li class="nav-item">
              <a id=habits-link class="nav-link" href="/habits"
                data-step=1 data-intro="This is the habits to-do list." 
                                                 >Habits</a>
            </li>
            <li class="nav-item">
              <a id=journal-link class="nav-link" href="/journal#">Journal</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="/journal#wiki_index">Wiki</a>
            </li>
            {% if Tutorial %}
            <li class=nav-item>
              <a class="nav-link btn btn-secondary btn-sm" id="tutorial-btn" disabled=true>Tutorial (loading)</a>
            </li>
            {% endif %}
            {% block navbar_links %}{% endblock %}
          </ul>
          {% block navigation %}{% endblock %}
        </div>
      </nav>
    </div>

    <div id=content class="container-fluid">
      {% block content %}{% endblock %}
    </div>

    <script src="/assets/vendor/jquery/dist/jquery.min.js"></script>
    <script src="/assets/vendor/bootstrap/dist/js/bootstrap.min.js"></script>

    <script src="/assets/vendor/moment/min/moment.min.js"></script>

    <script src="/assets/vendor/RiotControl/riotcontrol.js"></script>
    <script src="/assets/vendor/riot/riot+compiler.min.js"></script>
    <script src="/assets/vendor/riot-route/dist/route.min.js"></script>
    <script src="/assets/vendor/medium-editor/dist/js/medium-editor.min.js"></script>

    <script type="text/javascript">$(document).ready(function() {
      window.development = {% if Development %}true{% else %}false{% endif %};
      {% if Tutorial %}
      window.tutorial = true;
      $.getScript("/assets/vendor/intro.js/minified/intro.min.js", function() {
        $("#tutorial-btn").text("Tutorial");
        $("#tutorial-btn").attr("disabled", false);
        $("#tutorial-btn").click(function(e) {
          e.preventDefault();
          console.log("Starting tutorial");
          introJs().start();          
        });
      });
      {% endif %}
    });</script>
    <script src="/assets/common.js"></script>
    {% block script %}{% endblock %}
  </body>
</html>
